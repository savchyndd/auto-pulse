"use strict";(self.webpackChunkauto_pulse=self.webpackChunkauto_pulse||[]).push([[556],{2848:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(4942),a=t(5048),o=t(1116),i=t(686),l=t(9282),s=t(1413),u=t(9439),c=t(2791),d=t(8174),m=t(184),f=function(e){var n=e.id,t=void 0===n?"text-input":n,a=e.label,o=void 0===a?"label":a,i=e.value,f=void 0===i?{from:"",to:""}:i,p=(0,c.useState)(f),v=(0,u.Z)(p,2),h=v[0],x=v[1],_=function(e){/^[0-9,]+$/.test(e.target.value)||!e.target.value.trim()?x((function(n){return(0,s.Z)((0,s.Z)({},n),{},(0,r.Z)({},e.target.name,(0,l.h)(e.target.value)))})):d.Am.warn("Please write only numbers")};return(0,m.jsxs)("div",{className:"input-fromto-field__group",children:[(0,m.jsx)("p",{children:o}),(0,m.jsxs)("div",{className:"input-fromto__container",children:[(0,m.jsxs)("div",{className:"input-fromto__wrapper",children:[(0,m.jsx)("label",{htmlFor:"".concat(t,"_from"),children:"From"}),(0,m.jsx)("input",{name:"from",value:h.from,className:"input__from",id:"".concat(t,"_from"),type:"text",onChange:_,autoComplete:"off"})]}),(0,m.jsxs)("div",{className:"input-fromto__wrapper",children:[(0,m.jsx)("label",{htmlFor:"".concat(t,"_to"),children:"To"}),(0,m.jsx)("input",{name:"to",value:h.to,className:"input__to",id:"".concat(t,"_to"),type:"text",onChange:_,autoComplete:"off"})]})]})]})},p=function(e){return(0,m.jsx)("svg",(0,s.Z)((0,s.Z)({xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none"},e),{},{children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"m5 7.5 5 5 5-5"})}))},v=function(e){var n=e.name,t=e.id,r=e.label,a=e.placeholder,o=void 0===a?"Enter the text":a,i=e.optionList,l=(0,c.useState)(!1),s=(0,u.Z)(l,2),d=s[0],f=s[1],v=(0,c.useState)(null),h=(0,u.Z)(v,2),x=h[0],_=h[1];return(0,c.useEffect)((function(){var e=function(e){"Escape"===e.code&&f(!1)};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[d]),(0,m.jsxs)("div",{className:"dropdown__cotainer",children:[(0,m.jsx)("p",{className:"dropdown__label",children:r}),(0,m.jsxs)("div",{className:"dropdown__select",children:[(0,m.jsxs)("div",{className:"dropdown__header ".concat(d?"dropdown__open":""),onClick:function(){return f(!d)},children:[(0,m.jsx)("input",{type:"text",id:t,name:n,value:x||o,readOnly:!0,className:"dropdown__select--input"}),(0,m.jsx)(p,{})]}),d&&(0,m.jsx)("div",{className:"dropdown__list-container",children:(0,m.jsx)("ul",{className:"dropdown__list",children:i.map((function(e){return(0,m.jsx)("li",{name:n,onClick:(t=e,function(){_(t),f(!1)}),className:"dropdown__item",children:e},Math.random());var t}))})})]})]})},h=t(5735),x=function(e){var n=e.filtersList,t=(0,a.I0)(),s=(0,a.v9)(o.V);return(0,m.jsxs)("form",{className:"filter",onSubmit:function(e){var n;e.preventDefault();var a=e.target.elements,o=a.brand,s=a.price,u=a.from,c=a.to;if(o.value&&"Enter the text"!==o.value||s.value&&"To $"!==s.value||u.value||c.value){var m=(n={},(0,r.Z)(n,o.name,"Enter the text"!==o.value?o.value:""),(0,r.Z)(n,s.name,"To $"!==s.value?s.value:""),(0,r.Z)(n,"mileage",{from:(0,l.q)(u.value),to:(0,l.q)(c.value)}),(0,r.Z)(n,"prices",[]),n);t((0,i.j)(m))}else d.Am.info("Please chose one of filters")},children:[(0,m.jsx)(v,{name:"brand",label:"Car brand",value:s.brand,optionList:n.brands}),(0,m.jsx)(v,{name:"price",label:"Price/ 1 hour",placeholder:"To $",value:s.price,optionList:n.prices}),(0,m.jsx)(f,{name:"mileage",label:"\u0421ar mileage / km",value:s.mileage}),(0,m.jsx)(h.Z,{type:"submit",children:"Search"})]})}},7745:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(3433),a=t(9439),o=t(2791),i=t(5048),l=t(9067),s=t(1116),u=t(9624),c=t(6726),d=t(6181),m=t(2848),f=t(6574),p=t(5735),v=t(8324),h=t(184),x=function(){var e=(0,i.v9)(s.V),n=(0,l.FP)(),t=n.data,x=n.isLoading,_=(0,o.useState)(1),j=(0,a.Z)(_,2),w=j[0],b=j[1],g={brands:[],prices:[]},N=(0,o.useMemo)((function(){}),[]),Z=0,k=0;x||(N=(0,u.i)(t,e),g={brands:["All"].concat((0,r.Z)(new Set(t.map((function(e){return e.make}))))),prices:(0,c.o)(0,Math.max.apply(Math,(0,r.Z)(new Set(t.map((function(e){return e.rentalPrice.replace(/(\$)/,"")}))))),10)},Z=N.length,k=Z?Math.ceil(Z/8):1);var C=(0,o.useMemo)((function(){var e,n=8*(w-1),t=n+8;return null===(e=N)||void 0===e?void 0:e.slice(n,t)}),[w,N]);return(0,h.jsxs)(f.Z,{children:[x&&(0,h.jsx)(v.Z,{}),!x&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m.Z,{filtersList:g}),(0,h.jsx)(d.Z,{list:C}),(0,h.jsxs)("div",{className:"buttons__wrapper",children:[k>w&&(0,h.jsx)(p.Z,{variant:"text",className:"load-more__btn",onClick:function(){w<k&&(b((function(e){return e+1})),window.scrollTo(0,0))},children:"Load more"}),1!==w&&(0,h.jsx)(p.Z,{variant:"text",className:"load-more__btn",onClick:function(){b(1),window.scrollTo(0,0)},children:"Return to 1 page"})]})]})]})}},1116:function(e,n,t){t.d(n,{V:function(){return r}});var r=function(e){return e.filters}},6726:function(e,n,t){t.d(n,{o:function(){return r}});var r=function(e,n,t){return Array.from({length:Math.floor((n-e)/t)+1},(function(n,r){return e+r*t}))}},9624:function(e,n,t){t.d(n,{i:function(){return r}});var r=function(e,n){return e.filter((function(e){if(n.brand&&e.make!==n.brand&&"All"!==n.brand)return!1;if(n.price&&Number(e.rentalPrice.replace(/(\$)/,""))>Number(n.price))return!1;if(n.mileage.from.trim()||n.mileage.to.trim()){var t=n.mileage,r=t.from,a=t.to,o=Number(e.mileage);if(void 0!==r&&o<Number(r)||void 0!==a&&o>Number(a))return!1}return!0}))}}}]);
//# sourceMappingURL=556.4b0240cb.chunk.js.map